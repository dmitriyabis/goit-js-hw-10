{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  startBtn: document.querySelector('[data-start]'),\n  daysFace: document.querySelector('[data-days]'),\n  hoursFace: document.querySelector('[data-hours]'),\n  minutesFace: document.querySelector('[data-minutes]'),\n  secondsFace: document.querySelector('[data-seconds]'),\n  chooseInput: document.querySelector('#datetime-picker'),\n\n  options: {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    userSelectedDate: null,\n    onClose(selectedDates) {\n      refs.options.userSelectedDate = selectedDates[0];\n\n      if (refs.options.userSelectedDate.getTime() > Date.now()) {\n        refs.startBtn.removeAttribute('disabled');\n      } else {\n        refs.startBtn.setAttribute('disabled', true);\n        iziToast.error({\n          title: 'Error',\n          message: 'Please choose a date in the future!',\n          position: 'topRight',\n          color: 'red',\n          timeout: 5000,\n        });\n      }\n    },\n  },\n};\n\nflatpickr(refs.chooseInput, refs.options);\nlet countdownInterval;\n\nrefs.startBtn.setAttribute('disabled', true);\n\nrefs.startBtn.addEventListener('click', () => {\n  const selectedDate = refs.options.userSelectedDate;\n\n  if (!selectedDate || selectedDate.getTime() <= Date.now()) {\n    refs.startBtn.setAttribute('disabled', true);\n    return;\n  }\n\n  refs.startBtn.setAttribute('disabled', true);\n  refs.chooseInput.setAttribute('disabled', true);\n  refs.startBtn.style.pointerEvents = 'none';\n\n  countdownInterval = setInterval(() => {\n    const now = new Date().getTime();\n    const ms = selectedDate - now;\n\n    if (ms <= 0) {\n      clearInterval(countdownInterval);\n      refs.daysFace.textContent = '00';\n      refs.hoursFace.textContent = '00';\n      refs.minutesFace.textContent = '00';\n      refs.secondsFace.textContent = '00';\n\n      refs.chooseInput.removeAttribute('disabled');\n      return;\n    }\n    function convertMs(ms) {\n      // Number of milliseconds per unit of time\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n\n      // Remaining days\n      const days = Math.floor(ms / day);\n      // Remaining hours\n      const hours = Math.floor((ms % day) / hour);\n      // Remaining minutes\n      const minutes = Math.floor(((ms % day) % hour) / minute);\n      // Remaining seconds\n      const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n      return { days, hours, minutes, seconds };\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(ms);\n\n    refs.daysFace.textContent = String(days).padStart(2, '0');\n    refs.hoursFace.textContent = String(hours).padStart(2, '0');\n    refs.minutesFace.textContent = String(minutes).padStart(2, '0');\n    refs.secondsFace.textContent = String(seconds).padStart(2, '0');\n  }, 1000);\n});\n"],"names":["refs","selectedDates","iziToast","flatpickr","countdownInterval","selectedDate","now","ms","convertMs","days","hours","minutes","seconds"],"mappings":"+IAKA,MAAMA,EAAO,CACX,SAAU,SAAS,cAAc,cAAc,EAC/C,SAAU,SAAS,cAAc,aAAa,EAC9C,UAAW,SAAS,cAAc,cAAc,EAChD,YAAa,SAAS,cAAc,gBAAgB,EACpD,YAAa,SAAS,cAAc,gBAAgB,EACpD,YAAa,SAAS,cAAc,kBAAkB,EAEtD,QAAS,CACP,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,iBAAkB,KAClB,QAAQC,EAAe,CACrBD,EAAK,QAAQ,iBAAmBC,EAAc,CAAC,EAE3CD,EAAK,QAAQ,iBAAiB,QAAO,EAAK,KAAK,MACjDA,EAAK,SAAS,gBAAgB,UAAU,GAExCA,EAAK,SAAS,aAAa,WAAY,EAAI,EAC3CE,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sCACT,SAAU,WACV,MAAO,MACP,QAAS,GACnB,CAAS,EAEJ,CACF,CACH,EAEAC,EAAUH,EAAK,YAAaA,EAAK,OAAO,EACxC,IAAII,EAEJJ,EAAK,SAAS,aAAa,WAAY,EAAI,EAE3CA,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC5C,MAAMK,EAAeL,EAAK,QAAQ,iBAElC,GAAI,CAACK,GAAgBA,EAAa,QAAO,GAAM,KAAK,MAAO,CACzDL,EAAK,SAAS,aAAa,WAAY,EAAI,EAC3C,MACD,CAEDA,EAAK,SAAS,aAAa,WAAY,EAAI,EAC3CA,EAAK,YAAY,aAAa,WAAY,EAAI,EAC9CA,EAAK,SAAS,MAAM,cAAgB,OAEpCI,EAAoB,YAAY,IAAM,CACpC,MAAME,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAKF,EAAeC,EAE1B,GAAIC,GAAM,EAAG,CACX,cAAcH,CAAiB,EAC/BJ,EAAK,SAAS,YAAc,KAC5BA,EAAK,UAAU,YAAc,KAC7BA,EAAK,YAAY,YAAc,KAC/BA,EAAK,YAAY,YAAc,KAE/BA,EAAK,YAAY,gBAAgB,UAAU,EAC3C,MACD,CACD,SAASQ,EAAUD,EAAI,CAQrB,MAAME,EAAO,KAAK,MAAMF,EAAK,KAAG,EAE1BG,EAAQ,KAAK,MAAOH,EAAK,MAAO,IAAI,EAEpCI,EAAU,KAAK,MAAQJ,EAAK,MAAO,KAAQ,GAAM,EAEjDK,EAAU,KAAK,MAASL,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,KAAM,CAAE,KAAAH,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYJ,EAAUD,CAAE,EAEtDP,EAAK,SAAS,YAAc,OAAOS,CAAI,EAAE,SAAS,EAAG,GAAG,EACxDT,EAAK,UAAU,YAAc,OAAOU,CAAK,EAAE,SAAS,EAAG,GAAG,EAC1DV,EAAK,YAAY,YAAc,OAAOW,CAAO,EAAE,SAAS,EAAG,GAAG,EAC9DX,EAAK,YAAY,YAAc,OAAOY,CAAO,EAAE,SAAS,EAAG,GAAG,CAC/D,EAAE,GAAI,CACT,CAAC"}